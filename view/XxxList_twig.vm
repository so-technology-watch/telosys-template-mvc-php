{% include './layout/header.twig' %}
#set ( $uncapEntityName = ${fn.uncapitalize($entity.name)} )
#set ( $keyAttribs = "" )
#foreach( $attribute in $entity.keyAttributes )
#if( $foreach.count < 2 )
#set( $keyAttribs = "{{ " + ${uncapEntityName}+"."+${attribute.name} + " }}" )
#else
#set( $keyAttribs = $keyAttribs +"/{{ " + ${uncapEntityName}+"."+${attribute.name} + " }}" )
#end ## end if
#end ## end foreach
<div class="container">
    <h2></h2>
    <div class="container">
        <div class="panel-group">
            <div class="panel panel-info">
                <div class="panel-heading">
                    <h3>
                        <span class="glyphicon glyphicon-leaf"></span>
                        ${fn.capitalize($entity.name)} List
                        <a href="../../${uncapEntityName}/form" title="Create a new entity">
                            <button type="button" class="btn btn-success pull-right"><span class="glyphicon glyphicon-plus"></span> Create</button>
                        </a>
                    </h3>
                </div>
                <div class="panel-body">
                    <table class="table table-striped table-bordered text-center">
                        <thead>
                        <tr>
#foreach( $attribute in $entity.attributes )
                            <td><b>${attribute.name}</b></td>
#end
                        </tr>
                        </thead>
                        <tbody>
                        {% for ${uncapEntityName} in ${uncapEntityName}s %}
                        <tr onclick="window.location.href = '../../${uncapEntityName}/${keyAttribs}';" style="cursor: pointer">
#foreach( $attribute in $entity.attributes )
                            <td>{{ ${uncapEntityName}.${attribute.name} }}</td>
#end
                            <td>
                                <a href="../../${uncapEntityName}/delete/${keyAttribs}" title="Delete this entity"><span
                                            class="glyphicon glyphicon-trash"></span></a>
                            </td>
                        </tr>
                        {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
{% include './layout/footer.twig' %}